{% extends "base.html" %}

<!-- load crispy forms -->
{% load crispy_forms_tags %}

{% block title %}Displaying Model Data{% endblock title %}

{% block content %}
    <h1>All Technical Support People</h1>
        <br/>
        <table class="table table-striped table-hover table-bordered"> 
            <!-- for loop: iterate through people_list displaying 2 people per page-->
            {% for person in people_list %}
                <tr>
                    <td>
                        <a href="{% url 'show_techsupport_person' person.id %}">{{ tech_support.person_name_tech }}</a>
                    </td>
                    
                    <!-- update a person link and button -->
                    <td align="right">
                        <a href="{% url 'update_people' person.id %}" 
                        class="btn btn-outline-secondary btn-sm">Update</a>
                    </td>

                    <!-- delete a person link and button -->
                    <td align="right">
                        <a href="{% url 'delete_people' person.id %}"
                        class="btn btn-outline-secondary btn-sm">Delete</a>
                    </td>
                </tr>
            <!-- end for loop: people_list -->
            {% endfor %}

            

        </table>
        <br/>
    
    <!-- page navigation with bootstrap styling -->
    <nav aria-label="Page navigation">
        <ul class="pagination pagination-sm">
              
        <!-- if statement: pagination (previous page) -->
        {% if people_list.has_previous %}
            <!-- add and display: '<< first' page -->
            <li class="page-item"><a class="page-link" href="?page=1">&laquo First</a>
            </li>
            <!-- add and display: 'previous' page -->
            <li class="page-item"><a class="page-link"
                href="?page={{ people_list.previous_page_number }}">Previous</a>
            </li>
        <!-- end if: for pagination (previous page) -->
        {% endif %}
            <!-- page 'number of number' display -->
            <li class="page-item disabled"><a class="page-link" href="#">
                Page {{ people_list.number }} of {{ people_list.paginator.num_pages }}</a>
            </li>
        
        <!-- if statement: pagination (next page) -->
        {% if people_list.has_next %}
            <!-- add and display: 'next' page-->
            <li class="page-item"><a class="page-link" 
                href="?page={{ people_list.next_page_number }}">Next</a>
            </li>
            <!-- add and display: ''>> last' page -->
            <li class="page-item"><a class="page-link" 
                href="?page={{ people_list.paginator.num_pages }}">Last &raquo</a>
            </li>
        <!-- end if: for pagination (next page) -->
        {% endif %}

        </ul>
    </nav>
        
        
{% endblock content %}