{% extends "base.html" %}

<!-- load crispy forms -->
{% load crispy_forms_tags %}

{% block title %}Displaying Model Data{% endblock %}

{% block content %}
<!-- background for all project pages -->
<div class="background-project">
  <div class="container container-height-home events-mobile">
    <br />
    <!-- main heading -->
    <h1 class="heading_1">Project Details</h1>

    <!-- center table across all screen widths -->
    <div class="row justify-content-center">
      <!-- project information card  -->
      <div class="card" style="width: 30rem">
        <div class="card-header card-header-text card-padding-head">
          <!-- heading: project name -->
          <strong>{{ project }}</strong>
        </div>
        <!-- fields: project details -->
        <div class="card-body mobile-text">
          <p class="card-text">Date: {{ project.project_date }}</p>
          <p class="card-text">
            Resource - Project Admin: {{ project.resource_admin }}
          </p>
          <p class="card-text">
            Resource - Technical Analyst: {{ project.resource_tech }}
          </p>
          <p class="card-text">
            Project Manager: {{ project.project_manager }}
          </p>
          <p class="card-text">
            Project Description: {{ project.description }}
          </p>

          <!-- if statement: check user is logged in -->
          {% if user.is_authenticated %}
         <!-- if statement: check user is the project manager for this project -->
          {% if user == project.project_manager %}

          <!-- button links to 'update' and 'delete a project' -->
          <div class="center">
            <a href="{% url 'update_project' project.id %}"
              class="btn button-color-update btn-sm button-position">Update Project</a>

            <a href="{% url 'delete_project' project.id %}"
              class="btn button-color-delete btn-sm">Delete Project</a>
          </div>

          <!-- endif: project manager -->
          {% endif %}
          </div>

          <!-- endif: logged in -->
          {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock content %}
