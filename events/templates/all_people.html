{% extends "base.html" %}

<!-- load crispy forms -->
{% load crispy_forms_tags %}

{% block title %}Displaying Model Data{% endblock title %}

{% block content %}
    <h1>All People</h1>
        <br/>
        <table class="table table-striped table-hover table-bordered"> 
            <!-- for loop: iterate through people_list displaying 2 people per page-->
            {% for person in people_list %}
                <tr>
                    <td>
                        <a href="{% url 'show_people' person.id %}">{{ person.person_name }}</a>
                    </td>
                    
                    <!-- update a person link and button -->
                    <td align="right">
                        <a href="{% url 'update_people' person.id %}" 
                        class="btn btn-outline-secondary btn-sm">Update</a>
                    </td>

                    <!-- delete a person link and button -->
                    <td align="right">
                        <a href="{% url 'delete_people' person.id %}"
                        class="btn btn-outline-secondary btn-sm">Delete</a>
                    </td>
                </tr>
            <!-- end for loop: people_list -->
            {% endfor %}
        </table>
        <br/>
            
        <!-- if statement: pagination (previous page) -->
        {% if people_list.has_previous %}
            <!-- add and display: '<< First' page -->
            <a href="?page=1">&laquo First</a>
            <!-- add and display: 'previous' page -->
            <a href="?page={{ people_list.previous_page_number }}">previous</a>
        <!-- end if: for pagination (previous page) -->
        {% endif %}

        Page {{ people_list.number }} of {{ people_list.paginator.num_pages }}
        
        <!-- if statement: pagination (next page) -->
        {% if people_list.has_next %}
            <!-- add and display: 'next' page-->
            <a href="?page={{ people_list.next_page_number }}">next</a>
            <!-- add and display: ''>> last' page -->
            <a href="?page={{ people_list.paginator.num_pages }}">&raquo Last</a>
        <!-- end if: for pagination (next page) -->
        {% endif %}
        
        
{% endblock content %}