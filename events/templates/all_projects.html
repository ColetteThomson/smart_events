{% extends "base.html" %}

<!-- load crispy forms -->
{% load crispy_forms_tags %}

{% block title %}Displaying Model Data{% endblock title %}

{% block content %}
    <h1>All Projects</h1>
    <br>
        <table class="table table-striped table-hover table-bordered"> 
            <!-- for loop: iterate through project_list displaying 2 projects per page-->
            {% for project in project_list %}
                <tr>
                    <td>
                        <a href="{% url 'show_project' project.id %}">{{ project.project_name }}</a>
                    </td>

                    <!-- update a project link and button -->
                    <td align="right">
                        <a href="{% url 'update_project' project.id %}" 
                        class="btn btn-outline-secondary btn-sm">Update Project</a>
                    </td>

                    <!-- delete a project link and button -->
                    <td align="right">
                        <a href="{% url 'delete_project' project.id %}"
                        class="btn btn-outline-secondary btn-sm">Delete Project</a>
                    </td>
                </tr>
            <!-- end for loop: project_list -->
            {% endfor %}
        </table>
        <br/>

        <!-- if statement: pagination (previous page) -->
        {% if project_list.has_previous %}
            <!-- add and display: '<< First' page -->
            <a href="?page=1">&laquo First</a>
            <!-- add and display: 'previous' page -->
            <a href="?page={{ project_list.previous_page_number }}">previous</a>
        <!-- end if: for pagination (previous page) -->
        {% endif %}

        Page {{ project_list.number }} of {{ project_list.paginator.num_pages }}
        
        <!-- if statement: pagination (next page) -->
        {% if project_list.has_next %}
            <!-- add and display: 'next' page-->
            <a href="?page={{ project_list.next_page_number }}">next</a>
            <!-- add and display: ''>> last' page -->
            <a href="?page={{ project_list.paginator.num_pages }}">&raquo Last</a>
        <!-- end if: for pagination (next page) -->
        {% endif %}
    
{% endblock content %}